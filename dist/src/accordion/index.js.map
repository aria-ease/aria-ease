{"version":3,"sources":["../../../src/accordion/src/updateAccordionTriggerAriaAttributes/updateAccordionTriggerAriaAttributes.ts"],"names":[],"mappings":";AAUO,SAAS,oCAAA,CAAqC,WAAA,EAAqB,sBAAA,EAAgC,eAAA,EAAoC,mBAAA,EAAmC;AAC7K,EAAA,MAAM,YAAA,GAAmC,QAAA,CAAS,aAAA,CAAc,CAAA,CAAA,EAAI,WAAW,CAAA,CAAE,CAAA;AACjF,EAAA,IAAI,CAAC,YAAA,EAAc;AACf,IAAA,OAAA,CAAQ,KAAA,CAAM,CAAA,6BAAA,EAAgC,WAAW,CAAA,wGAAA,CAA0G,CAAA;AACnK,IAAA;AAAA,EACJ;AAEA,EAAA,MAAM,cAAA,GAAgC,MAAM,IAAA,CAAK,YAAA,CAAa,iBAAiB,CAAA,CAAA,EAAI,sBAAsB,EAAE,CAAC,CAAA;AAC5G,EAAA,IAAI,cAAA,CAAe,WAAW,CAAA,EAAG;AAC7B,IAAA,OAAA,CAAQ,KAAA,CAAM,CAAA,gCAAA,EAAmC,sBAAsB,CAAA,qGAAA,CAAuG,CAAA;AAC9K,IAAA;AAAA,EACJ;AAEA,EAAA,IAAI,cAAA,CAAe,MAAA,KAAW,eAAA,CAAgB,MAAA,EAAQ;AAClD,IAAA,OAAA,CAAQ,MAAM,CAAA,uDAAA,EAA0D,cAAA,CAAe,MAAM,CAAA,mBAAA,EAAsB,eAAA,CAAgB,MAAM,CAAA,gBAAA,CAAkB,CAAA;AAC3J,IAAA;AAAA,EACJ;AAEA,EAAA,cAAA,CAAe,OAAA,CAAQ,CAAC,aAAA,EAA4B,KAAA,KAAkB;AAClE,IAAA,MAAM,KAAA,GAAQ,gBAAgB,KAAK,CAAA;AACnC,IAAA,MAAM,QAAA,GAAW,aAAA,CAAc,YAAA,CAAa,eAAe,CAAA;AAC3D,IAAA,MAAM,mBAAmB,KAAA,KAAU,mBAAA,GAAuB,KAAA,CAAM,OAAA,GAAU,SAAS,OAAA,GAAW,OAAA;AAC9F,IAAA,IAAI,QAAA,IAAY,aAAa,gBAAA,EAAkB;AAC3C,MAAA,aAAA,CAAc,YAAA,CAAa,iBAAiB,gBAAgB,CAAA;AAAA,IAChE;AAAA,EACJ,CAAC,CAAA;AACL","file":"index.js","sourcesContent":["/**\n * Adds screen reader accessibility to accordions. Updates the aria attributes of the accordion trigger button. Trigger button element must possess the following aria attributes; aria-expanded, aria-controls, aria-label (for only non-text triggers).\n * @param {string} accordionId The id of the accordion triggers parent container.\n * @param {string} accordionTriggersClass The shared class of all the accordion triggers.\n * @param {AccordionStates[]} accordionStates Array of objects containing accordions state information.\n * @param {number} clickedTriggerIndex Index of the currently clicked accordion trigger within the accordion div container.\n*/\n\nimport { AccordionStates } from \"../../../../Types\";\n\nexport function updateAccordionTriggerAriaAttributes(accordionId: string, accordionTriggersClass: string, accordionStates: AccordionStates[], clickedTriggerIndex: number): void {\n    const accordionDiv: HTMLElement | null = document.querySelector(`#${accordionId}`);\n    if (!accordionDiv) {\n        console.error(`[aria-ease] Element with id=\"${accordionId}\" not found. Make sure the accordion element exists before calling updateAccordionTriggerAriaAttributes.`);  \n        return;\n    }\n\n    const accordionItems: HTMLElement[] = Array.from(accordionDiv.querySelectorAll(`.${accordionTriggersClass}`));\n    if (accordionItems.length === 0) {\n        console.error(`[aria-ease] Element with class=\"${accordionTriggersClass}\" not found. Make sure the accordion items exist before calling updateAccordionTriggerAriaAttributes.`);\n        return;\n    }\n\n    if (accordionItems.length !== accordionStates.length) {\n        console.error(`[aria-ease] Accordion state/DOM length mismatch: found ${accordionItems.length} triggers, but got ${accordionStates.length} state objects.'`);\n        return;\n    }\n\n    accordionItems.forEach((accordionItem: HTMLElement, index: number) => {\n        const state = accordionStates[index];\n        const expanded = accordionItem.getAttribute(\"aria-expanded\");\n        const shouldBeExpanded = index === clickedTriggerIndex ? (state.display ? \"true\" : \"false\") : \"false\";\n        if (expanded && expanded !== shouldBeExpanded) {\n            accordionItem.setAttribute(\"aria-expanded\", shouldBeExpanded);\n        }\n    });\n}"]}